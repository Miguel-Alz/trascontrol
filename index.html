<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Sistema de Registro de Conductores - Formulario de registro diario">
    <title>Registro de Conductores | Sistema de Transporte</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%236366f1'%3E%3Cpath d='M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z'/%3E%3C/svg%3E">
    
    <!-- Preconnect para fuentes -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Estilos -->
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/form.css">
</head>
<body>
    <div class="page-wrapper">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon">游뚧</div>
                    <div>
                        <div class="logo-text">TransControl</div>
                        <div class="logo-subtitle">Sistema de Registro</div>
                    </div>
                </div>
                <nav class="header-nav">
                    <a href="admin.html" class="nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                            <circle cx="12" cy="7" r="4"/>
                        </svg>
                        <span>Panel Admin</span>
                    </a>
                </nav>
            </div>
        </header>

        <!-- Contenido Principal -->
        <main class="main-content">
            <div class="form-card">
                <div class="form-header">
                    <h1>游늶 Registro Diario</h1>
                    <p>Complete la informaci칩n del servicio de transporte</p>
                </div>

                <form id="conductorForm" novalidate>
                    <div class="form-grid">
                        <!-- Fecha -->
                        <div class="form-group">
                            <label for="fecha" class="form-label">
                                Fecha <span class="required-indicator">*</span>
                            </label>
                            <div class="date-input-wrapper">
                                <input 
                                    type="date" 
                                    id="fecha" 
                                    name="fecha" 
                                    class="form-input" 
                                    required
                                >
                            </div>
                            <span class="form-error">Por favor seleccione una fecha</span>
                        </div>

                        <!-- Empresa -->
                        <div class="form-group">
                            <label for="empresa" class="form-label">
                                Empresa <span class="required-indicator">*</span>
                            </label>
                            <select id="empresa" name="empresa" class="form-select" required>
                                <option value="">Seleccione una empresa</option>
                                <option value="Urbanos Ca침arte">Urbanos Ca침arte</option>
                                <option value="Transperla del Ot칰n">Transperla del Ot칰n</option>
                                <option value="Servilujo">Servilujo</option>
                            </select>
                            <span class="form-error">Por favor seleccione una empresa</span>
                        </div>

                        <!-- Prefijo (Auto-completado) -->
                        <div class="form-group">
                            <label for="prefijo" class="form-label">
                                Prefijo
                                <span class="tooltip-wrapper">
                                    <svg class="tooltip-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <circle cx="12" cy="12" r="10"/>
                                        <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
                                        <line x1="12" y1="17" x2="12.01" y2="17"/>
                                    </svg>
                                    <span class="tooltip-content">Se completa autom치ticamente</span>
                                </span>
                            </label>
                            <div class="prefix-field">
                                <input 
                                    type="text" 
                                    id="prefijo" 
                                    name="prefijo" 
                                    class="form-input" 
                                    readonly 
                                    placeholder="Autom치tico"
                                >
                            </div>
                        </div>

                        <!-- Veh칤culo -->
                        <div class="form-group">
                            <label for="vehiculo" class="form-label">
                                Veh칤culo <span class="required-indicator">*</span>
                            </label>
                            <input 
                                type="text" 
                                id="vehiculo" 
                                name="vehiculo" 
                                class="form-input" 
                                placeholder="Ej: UC-001"
                                required
                            >
                            <span class="form-error">Por favor ingrese el veh칤culo</span>
                        </div>

                        <!-- Tabla -->
                        <div class="form-group">
                            <label for="tabla" class="form-label">
                                Tabla <span class="required-indicator">*</span>
                            </label>
                            <input 
                                type="text" 
                                id="tabla" 
                                name="tabla" 
                                class="form-input" 
                                placeholder="Ej: T-101"
                                required
                            >
                            <span class="form-error">Por favor ingrese la tabla</span>
                        </div>

                        <!-- Nombre del Conductor -->
                        <div class="form-group">
                            <label for="conductor" class="form-label">
                                Nombre del Conductor <span class="required-indicator">*</span>
                            </label>
                            <div class="conductor-autocomplete-wrapper">
                                <input 
                                    type="text" 
                                    id="conductor" 
                                    name="conductor" 
                                    class="form-input" 
                                    placeholder="Nombre completo"
                                    list="conductorList"
                                    autocomplete="off"
                                    required
                                >
                                <datalist id="conductorList">
                                    <!-- Se cargar치 din치micamente -->
                                </datalist>
                                <div id="conductorDropdown" class="conductor-dropdown hidden">
                                    <!-- Resultados de b칰squeda -->
                                </div>
                            </div>
                            <span class="form-error">Por favor ingrese el nombre del conductor</span>
                        </div>

                        <!-- Hora Inicio -->
                        <div class="form-group">
                            <label for="hora_inicio" class="form-label">
                                Hora Inicio <span class="required-indicator">*</span>
                            </label>
                            <div class="time-input-wrapper">
                                <input 
                                    type="time" 
                                    id="hora_inicio" 
                                    name="hora_inicio" 
                                    class="form-input"
                                    required
                                >
                            </div>
                            <span class="form-error">Por favor ingrese la hora de inicio</span>
                        </div>

                        <!-- Hora Fin -->
                        <div class="form-group">
                            <label for="hora_fin" class="form-label">
                                Hora Fin <span class="required-indicator">*</span>
                            </label>
                            <div class="time-input-wrapper">
                                <input 
                                    type="time" 
                                    id="hora_fin" 
                                    name="hora_fin" 
                                    class="form-input"
                                    required
                                >
                            </div>
                            <span class="form-error">La hora fin debe ser mayor a la hora inicio</span>
                        </div>

                        <!-- Servicio -->
                        <div class="form-group full-width">
                            <label for="servicio" class="form-label">
                                Servicio <span class="required-indicator">*</span>
                            </label>
                            <input 
                                type="text" 
                                id="servicio" 
                                name="servicio" 
                                class="form-input" 
                                placeholder="Descripci칩n del servicio o ruta"
                                required
                            >
                            <span class="form-error">Por favor ingrese el servicio</span>
                        </div>

                        <!-- Novedad -->
                        <div class="form-group full-width novedad-field">
                            <label for="novedad" class="form-label">
                                Novedad
                                <span class="badge badge-info" style="margin-left: 8px;">Opcional</span>
                            </label>
                            <textarea 
                                id="novedad" 
                                name="novedad" 
                                class="form-textarea" 
                                placeholder="Describa cualquier novedad o incidente durante el servicio..."
                                rows="3"
                            ></textarea>
                        </div>
                    </div>

                    <!-- Botones de Acci칩n -->
                    <div class="form-actions">
                        <button type="button" id="btnReset" class="btn btn-secondary btn-reset">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/>
                                <path d="M3 3v5h5"/>
                            </svg>
                            Limpiar
                        </button>
                        <button type="submit" id="btnSubmit" class="btn btn-primary btn-submit">
                            <span class="btn-text">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                                    <polyline points="22 4 12 14.01 9 11.01"/>
                                </svg>
                                Enviar Registro
                            </span>
                            <span class="btn-loading">
                                <span class="spinner"></span>
                                Enviando...
                            </span>
                        </button>
                    </div>
                </form>
            </div>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>춸 2024 TransControl - Sistema de Registro de Conductores</p>
        </footer>
    </div>

    <!-- Overlay de 칄xito -->
    <div id="successOverlay" class="form-success-overlay">
        <div class="success-content">
            <div class="success-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="20 6 9 17 4 12"/>
                </svg>
            </div>
            <h2 class="success-title">춰Registro Exitoso!</h2>
            <p class="success-message">La informaci칩n ha sido guardada correctamente</p>
            <button id="btnNewRecord" class="btn btn-primary">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="12" y1="5" x2="12" y2="19"/>
                    <line x1="5" y1="12" x2="19" y2="12"/>
                </svg>
                Nuevo Registro
            </button>
        </div>
    </div>

    <!-- Contenedor de Notificaciones -->
    <div id="toastContainer" class="toast-container"></div>

    <!-- Scripts -->
    <script src="js/utils.js"></script>
    <script src="js/api.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
